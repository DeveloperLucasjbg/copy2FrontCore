<div class="relative w-full" #dropdownCountryContainer>
  <button
    class="flex items-center gap-2 rounded-lg py-2 cursor-pointer hover:opacity-70"
    (click)="toggleDropdown()"
    >
    @if (selectedOption) {
      <img
        [src]="getSvgPath(selectedOption.key) | assetUrl"
        alt="flag"
        class="w-6 h-6"
      />
    }
    <input
      type="text"
      [value]="selectedOption?.value"
      placeholder="Seleccione una opciÃ³n"
      class="cursor-pointer w-[3.2rem] border-none outline-none rounded bg-transparent text-smPlus font-semibold"
      readonly
    />
    <img [src]="'/svg/dropdown-2.svg' | assetUrl " [classList]="'size-[14px]' + (isDropdownOpen ? ' rotate-180' : '')" alt="arrow" />
  </button>

  @if (isDropdownOpen) {
    <div class="absolute rounded-md bg-white shadow-lg border-2 border-gray-100 mt-2 w-full z-10">
        <ul class="max-h-48 overflow-y-auto">
          @for (option of options; track $index) {
            <li 
              (click)="checkIsActive(option.key) ? selectOption(option) : null" 
              [class]="'p-2 flex items-center gap-2 ' + (checkIsActive(option.key) ? 'cursor-pointer hover:bg-gray-100' : 'cursor-not-allowed opacity-50')"
            >
              <img [src]="getSvgPath(option.key) | assetUrl" alt="flag" class="w-5 h-5" />
              <p class="text-smPlus">{{ option.value }}</p>
            </li>
          }
      </ul>
    </div>
  }
</div>