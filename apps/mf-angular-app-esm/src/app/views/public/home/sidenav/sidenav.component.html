<div class="w-[50px] hover:w-[260px] transition-all duration-300 group" (mouseleave)="onSidenavLeave()">
  @for (item of items(); track $index) {
    <div class="flex flex-col" (mouseenter)="onItemHover($index, item)" (mouseleave)="onItemLeave($index)">
      <div 
        class="group/item flex items-center gap-2 w-full h-[50px] overflow-hidden transition-all duration-300 hover:bg-[#0071CE] cursor-pointer"
        [style.background-color]="isItemSelected($index) || isExpanded($index) ? '#0071CE' : ''"
        (click)="onItemClick($index, item)">
        <div class="w-[50px] h-[50px] rounded-full flex items-center justify-center flex-shrink-0">
          <img 
            [src]="item.icon | assetUrl" 
            class="w-[24px] h-[24px] transition-all duration-300 group-hover/item:brightness-0 group-hover/item:invert"
            [style.filter]="isItemSelected($index) || isExpanded($index) ? 'brightness(0) invert(1)' : ''">
        </div>
        <div class="flex items-center justify-between flex-1 min-w-0">
          <p 
            class="whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-300 group-hover/item:text-white"
            [style.color]="isItemSelected($index) || isExpanded($index) ? 'white' : ''">{{ item.label }}</p>
        </div>
      </div>
      
      <!-- SubmenÃº -->
      @if (hasSubmenu(item) && isExpanded($index)) {
        <div class="w-full overflow-hidden">
          @for (subItem of item.submenu; track subItem.label; let subIndex = $index) {
            <div 
              class="pl-[10px] group/subitem flex items-center gap-2 w-full h-[40px] overflow-hidden transition-all duration-300 hover:bg-[#0071CE] cursor-pointer"
              (click)="onSubItemClick($index, subIndex, subItem)">
              <p 
                class="whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-sm group-hover/subitem:text-white text-gray-700">
                {{ subItem.label }}
              </p>
            </div>
          }
        </div>
      }
    </div>
  }
</div>
